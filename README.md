[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

ğŸ“„ [å®Œå…¨ç‰ˆã‚µãƒãƒªãƒ¼ã¯ã“ã¡ã‚‰](README_final_cleaned.md)


[![Open in Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/saya0823-web/u-/blob/main/ds_zero_to_one_starter_v2.ipynb)


**ç›®æ¬¡**ï½œ[ç›®çš„](#ç›®çš„) / [æ‰‹é †](#æ‰‹é †è¶…è¦ç´„) / [ä¸»ãªçµæœ](#ä¸»ãªçµæœ) / [ç¤ºå”†](#ç¤ºå”†sayaå‘ã‘) / [å›³](#å›³ridge-å®Ÿæ¸¬-vs-äºˆæ¸¬) / [ä¿å­˜ç‡](#ä¿å­˜ç‡save_rateã®äºˆæ¸¬) / [äº¤äº’ä½œç”¨](#æ™‚åˆ»åª’ä½“ã®äº¤äº’ä½œç”¨likes) / [ä»˜éŒ²](#ä»˜éŒ²æ•°è¡¨) / [TL;DR](#tldr) / [Contact](#contact)

# SNSæŠ•ç¨¿ã®ã€Œã„ã„ã­ã€äºˆæ¸¬ãƒ»ç¤ºå”†ï¼ˆ1æšã‚µãƒãƒªï¼‰ â€” for Saya
*ä½œæˆæ—¥: 2025-08-09 / ãƒ‡ãƒ¼ã‚¿: ã‚µãƒ³ãƒ—ãƒ«60ä»¶ï¼ˆSNSæŠ•ç¨¿CSVï¼‰*

## ç›®çš„
- æŠ•ç¨¿ã® **ã€Œã„ã„ã­ï¼ˆlikesï¼‰ã€ã‚’äºˆæ¸¬** ã—ã€é‹ç”¨ã«æ´»ã‹ã›ã‚‹ **é…ä¿¡ã‚¿ã‚¤ãƒŸãƒ³ã‚°/æ–½ç­–** ã®å½“ãŸã‚Šã‚’ã¤ã‘ã‚‹ã€‚

## æ‰‹é †ï¼ˆè¶…è¦ç´„ï¼‰
1. å‰å‡¦ç†ï¼š`media_type`, `weekday` ã¯ One-Hotï¼ˆdrop='first'ï¼‰ã€æ•°å€¤ã¯æ¨™æº–åŒ–ã€‚
2. ãƒ¢ãƒ‡ãƒ«ï¼šç·šå½¢å›å¸° & Ridge å›å¸°ï¼ˆCVã§ Î± è‡ªå‹•é¸æŠï¼‰ã€‚train/test=80/20ã€‚
3. å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯ï¼šå¹³å‡äºˆæ¸¬ï¼ˆãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ï¼‰æ¯”è¼ƒã€`impressions`é™¤å¤–ã®æ¤œè¨¼ã€ä¿‚æ•°/Permutationã§ãƒ‰ãƒ©ã‚¤ãƒãƒ¼æŠŠæ¡ã€‚

## ä¸»ãªçµæœ
- **MAEï¼ˆå¹³å‡äºˆæ¸¬ï¼‰= 208.40 â†’ ç·šå½¢= 88.68ï¼ˆRÂ²=0.820ï¼‰**
- **Ridge= 63.62ï¼ˆRÂ²=0.909, Î±=4.28ï¼‰**  â† ä¿‚æ•°ãŒå®‰å®šã—ã‚„ã™ãã€**æœ€çµ‚æ¡ç”¨**
- é›†è¨ˆã‚ˆã‚Šï¼š**18æ™‚ãŒæœ€ã‚‚å¹³å‡ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆé«˜ã„**ï¼ˆå¤œå¸¯å¼·ã‚ï¼‰
- ãƒ‰ãƒ©ã‚¤ãƒãƒ¼æ¦‚è¦³ï¼š**reach ï¼ æ›œæ—¥å·® ï¼ media_type**

## ç¤ºå”†ï¼ˆSayaå‘ã‘ï¼‰
- **å¤œ18æ™‚ä¸­å¿ƒã§æŠ•ç¨¿æ¯”ç‡â†‘**ã€`reel`èµ·ç‚¹ã®ä¼ç”»ã‚’é‡ç‚¹ãƒã‚§ãƒƒã‚¯ã€‚
- **åˆ°é”ã®è³ªï¼ˆä¿å­˜/ã‚³ãƒ¡ãƒ³ãƒˆç‡ï¼‰**ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ã€‚`reach` ã®å¢—åŠ ãŒ likes ã«ç›´çµã€‚
- `impressions` ã¯å†—é•·æ°—å‘³ â†’ **ãƒ¬ãƒãƒ¼ãƒˆã¯ç‡ï¼ˆlikes/impï¼‰ã‚‚ä¸¦è¨˜**ã—ã¦è³ªã‚’ç›£è¦–ã€‚

## å›³ï¼ˆRidge: å®Ÿæ¸¬ vs äºˆæ¸¬ï¼‰
![Actual vs Predicted](./scatter_ridge_actual_vs_pred.png)
- å›³1.Ridge:å®Ÿæ¸¬ã€€vsã€€äºˆæ¸¬
---

### ä¿å­˜ç‡ï¼ˆsave_rateï¼‰ã®äºˆæ¸¬ï¼šé‡ã¿ä»˜ãRidge
- **ãƒ¢ãƒ‡ãƒ«**ï¼šRidgeï¼ˆweights = impressionsï¼‰
- **æŒ‡æ¨™**ï¼šMAE(å¹³å‡äºˆæ¸¬)=**0.0041** â†’ ãƒ¢ãƒ‡ãƒ«=**0.0047**ï¼ˆ**æ”¹å–„ç‡ -13.7%**ï¼‰ï¼ **RÂ²=-0.359**
- **è§£é‡ˆ**ï¼šå°è±¡å›æ•°ã§é‡ã¿ä»˜ã‘ã—ã¦ã‚‚ä»Šå›ã¯**ç²¾åº¦ã¯æ”¹å–„ã›ãš**ã€‚å°æ¨™æœ¬ï¼‹ä¿å­˜ç‡ã®ã°ã‚‰ã¤ãã‚„é‡ã¿ã®åã‚Šã®å½±éŸ¿ãŒå¤§ãã„å¯èƒ½æ€§ã€‚  
  æ¬¡ã¯ **äºŒé …GLMï¼ˆãƒ­ã‚¸ãƒƒãƒˆï¼‰** ã‚„ **ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç‰¹å¾´ã®è¿½åŠ ** ã§å†æ¤œè¨¼ã‚’ææ¡ˆã€‚

![Actual vs Predicted (save_rate, weighted)](./scatter_save_rate_weighted.png)  
![Permutation importance (save_rate, weighted)](./permimp_save_rate_weighted.png)


---

### æ™‚åˆ»Ã—åª’ä½“ã®äº¤äº’ä½œç”¨ï¼ˆlikesï¼‰
- **ãƒ¢ãƒ‡ãƒ«**ï¼šRidgeï¼ˆäº¤äº’ä½œç”¨ `hourÃ—media_type`ã€å…±å¤‰é‡ `reach`ï¼‰
- **æŒ‡æ¨™**ï¼š**RÂ²=0.906 / MAE=68.5**
- **çµæœ**ï¼šäºˆæ¸¬æ›²ç·šã‚ˆã‚Š **å¤œÃ—carousel ã®å‚¾ããŒæœ€ã‚‚å¤§ãã„**ã€‚reel ã¯ä¸­ä½ã€image ã¯æ§ãˆã‚ã€‚
- **æ–½ç­–**ï¼šå¤œã¯ **carousel ã‚’åšã‚**ã€æ˜¼ã¯ image / reel ã®ABãƒ†ã‚¹ãƒˆã€‚ä¿å­˜ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆå°ç·šã§â€œè³ªâ€ã‚’ä¸Šã’ã‚‹ã€‚

<p align="center">
  <img width="720" alt="æ™‚é–“Ã—ãƒ¡ãƒ‡ã‚£ã‚¢ã‚«ãƒ¼ãƒ–" src="https://github.com/user-attachments/assets/59748916-34a5-47c0-944b-f8fc7bc78f49" />
</p>
<p align="center">
  <img width="720" alt="ä¿‚æ•°" src="https://github.com/user-attachments/assets/14fa0433-be55-4573-ba33-c48fd8560ac1" />
</p>
å›³2. æ™‚åˆ»Ã—åª’ä½“ã®äº¤äº’ä½œç”¨
---

### ä»˜éŒ²ï¼šæ•°è¡¨
| æŒ‡æ¨™ | å€¤ |
|---|---:|
| MAEï¼ˆå¹³å‡äºˆæ¸¬ï¼‰ | 208.40 |
| MAE / RÂ²ï¼ˆç·šå½¢ï¼‰ | 88.68 / 0.820 |
| MAE / RÂ²ï¼ˆRidge, Î±=4.28ï¼‰ | 63.62 / 0.909 |

> â€» ã‚µãƒ³ãƒ—ãƒ«ç”Ÿæˆãƒ‡ãƒ¼ã‚¿ã§ã®çµæœã§ã™ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿ã§ã¯ç‰¹å¾´è¿½åŠ ã§æ”¹å–„ä½™åœ°ã‚ã‚Šï¼‰ã€‚

![Actual vs Predicted (save_rate, weighted)](./scatter_save_rate_weighted.png)
![Permutation importance (save_rate, weighted)](./permimp_save_rate_weighted.png)


## TL;DR
Ridgeå›å¸°ã§ likes äºˆæ¸¬ï¼ˆRÂ²=0.909 / MAE=63.6ï¼‰ã€‚ä¸»è¦å› ã¯ reachã€‚**å¤œ18æ™‚ä¸­å¿ƒÃ—ä¿å­˜/ã‚³ãƒ¡ãƒ³ãƒˆè¨­è¨ˆ**ã‚’æ¨å¥¨ã€‚

## Contact
ãŠä»•äº‹/ã”ç›¸è«‡: âœ‰ï¸ tianzhongzaoji80@gmail.com ï½œ X: https://x.com/1046vsaki_saya

### ä¿å­˜ç‡ï¼ˆsave_rateï¼‰ã®äºˆæ¸¬ï¼šäºŒé …GLMï¼ˆãƒ­ã‚¸ãƒƒãƒˆï¼‰

- **ãƒ¢ãƒ‡ãƒ«**: GLM Binomialï¼ˆendog=ä¿å­˜ç‡, `var_weights = impressions`ï¼‰
- **æŒ‡æ¨™**: MAE = **0.0060** ï¼ **Pseudo RÂ² â‰ˆ 0.169**
- **è¦ç‚¹**: ä¿å­˜ã‚’ã€æˆåŠŸ/è©¦è¡Œã€‘ã¨ã—ã¦æ‰±ã†æ­£æ”»æ³•ã€‚å°æ¨™æœ¬ï¼†ãƒã‚¤ã‚ºå¤šã‚ã§ã‚‚ä¸€å®šã®èª¬æ˜åŠ›ã€‚
  ä¿‚æ•°ä¸Šä½ï¼ˆå›³ã®å³å´ï¼‰ãŒä¿å­˜ç‡ã‚’æŠ¼ã—ä¸Šã’ã‚‹è¦å› ï¼ˆä¾‹: reach, â—‹â—‹æ›œæ—¥, media_type=â—‹â—‹ ãªã©ï¼‰ã€‚

![ä¿‚æ•°ï¼ˆGLMï¼‰](./mfx_save_rate_glm.png)

![Actual vs Predicted (GLM, save_rate)](./scatter_save_rate_glm.png)

- ä¿å­˜ç‡ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬CSV: [`data/mfx_save_rate_glm.csv`](data/mfx_save_rate_glm.csv)

## ä¿å­˜ç‡ï¼ˆsave_rateï¼‰ã®äºˆæ¸¬ï¼šGLMï¼ˆãƒ­ã‚¸ãƒƒãƒˆï¼‰

- **ãƒ¢ãƒ‡ãƒ«**ï¼šGLM Binomialï¼ˆendog = ä¿å­˜ç‡ã€`var_weights=impressions`ï¼‰
- **æŒ‡æ¨™**ï¼šMAE â‰ˆ **0.0060** ï¼ æ“¬ä¼¼RÂ² â‰ˆ **0.169**
- **è¦ç‚¹**ï¼š
  - å°æ¨™æœ¬ï¼‹ãƒã‚¤ã‚ºå¤šã‚ã®ä¸­ã§ã‚‚ä¸€å®šã®èª¬æ˜åŠ›ã€‚**é‡ã¿ä»˜ã**ï¼ˆimpressionsï¼‰ã§ â€œè©¦è¡Œå›æ•°â€ ã‚’è€ƒæ…®ã€‚
  - **ãƒ¡ãƒ‡ã‚£ã‚¢ç¨®åˆ¥**ã‚„**æ›œæ—¥**ã«åŠ¹æœã®å·®ã€‚è³ªçš„æ–½ç­–ï¼ˆä¿å­˜èª˜ç™ºã®CTA/æ§‹æˆï¼‰ãŒåŠ¹ãä½™åœ°ã‚ã‚Šã€‚

**å®Ÿæ¸¬ vs äºˆæ¸¬ï¼ˆä¿å­˜ç‡ï¼‰**
![Actual vs Predicted (GLM, save_rate)](./figs/scatter_save_rate_glm.png)

**ä¿‚æ•°ï¼ˆCSVï¼‰**
- [coef_save_rate_glm.csv](./data/coef_save_rate_glm.csv)

- ### ä¿å­˜ç‡ï¼ˆsave_rateï¼‰ã®äºˆæ¸¬ï¼šäºŒé …GLMï¼ˆãƒ­ã‚¸ãƒƒãƒˆï¼‰

- ãƒ¢ãƒ‡ãƒ«ï¼šGLM Binomialï¼ˆendog=ä¿å­˜ç‡ã€`var_weights=impressions`ï¼‰
- æŒ‡æ¨™ï¼šMAE â‰ˆ **0.0060** ï¼ æ“¬ä¼¼RÂ² â‰ˆ **0.169**
- ä¸»è¦å› å­ï¼ˆ%ãƒã‚¤ãƒ³ãƒˆ, ä¸€ä¾‹ï¼‰ï¼š  
  - Wed **-0.587** ï¼ hour **-0.196** ï¼ reach **+0.0003** ï¼ reel **+0.342**
- ç¤ºå”†ï¼šæ°´æ›œã¯å¼±ã‚ã€**reel** ã¯ä¿å­˜ç‡ã«ãƒ—ãƒ©ã‚¹ã€‚æ™‚é–“ã¯é…ã„ã»ã©ä½ä¸‹å‚¾å‘ã€‚  
  reach ã¯ä¿å­˜ç‡è‡ªä½“ã®æŠ¼ã—ä¸Šã’ã¯å°ã•ã„ãŸã‚ã€**ä¿å­˜å°ç·šï¼ˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼è§£èª¬ï¼CTAï¼‰** ã§è³ªã‚’ä¸Šã’ã‚‹ã€‚

<img src="./mfx_save_rate_glm.png" width="640">
ï¼ˆè¡¨ï¼‰[mfx_save_rate_glm.csv](./mfx_save_rate_glm.csv)

ãƒ»image / reel ã¯ï¼ˆcarouselåŸºæº–ã§ï¼‰ä¿å­˜ç‡ãŒä½ä¸‹å‚¾å‘  
ãƒ»æ°´æ›œãƒ»æ—¥æ›œã¯ä½ã‚ã€Mon/Tue ã¯ã‚„ã‚„é«˜ã‚  
ãƒ»hour ã¯é…ããªã‚‹ã»ã©å¾®æ¸›ã€reach ã®å¯„ä¸ã¯æ¥µå°

GLM (logit), var_weights=impressions, MAEâ‰ˆ0.0060, æ“¬ä¼¼RÂ²â‰ˆ0.169
# ä¿å­˜ç‡æ”¹å–„ãƒ¬ãƒãƒ¼ãƒˆ

GLMï¼ˆãƒ­ã‚¸ãƒƒãƒˆï¼‰ã€var_weights=impressionsã€MAEâ‰ˆ0.0060ã€æ“¬ä¼¼RÂ²â‰ˆ0.169

![ä¿å­˜ç‡æ”¹å–„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒƒãƒ—](images/save_rate_improvement_map_illustration.png)

ã“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒãƒƒãƒ—ã¯ã€æŠ•ç¨¿ã®ä¿å­˜ç‡ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã®æ”¹å–„æ–½ç­–ã‚’è¦–è¦šåŒ–ã—ãŸã‚‚ã®ã§ã™ã€‚
